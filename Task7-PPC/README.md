# Osada Sirakuz | Hard | PPC

## Информация

> [@RegularITCat](https://t.me/RegularITCat)
> Γειά σου!
> 
> Χρειαζόμαστε τη βοήθειά σου.
> 
> Οι κακοί Ρωμαίοι υπό τις διαταγές του Μάρκου Κλαύδιου Μάρκελλου επιτίθενται στις Συρακούσες από τη θάλασσα.
> 
> Αποφάσισαν να μην διστάσουν και να μην μας δώσουν χρόνο να προετοιμαστούμε για άμυνα.
> 
> Ο Μάρκος Κλαύδιος έβαλε τις σαμβύκη στα πλοία και ήδη πλέει.
> 
> Βοηθήστε μας να τους καταστρέψουμε!
> 
> nc 45.147.162.184 8181
>
> Παράδειγμα λύσης
> 
> Ο εχθρός βρίσκεται σε αυτό το σημείο: 152 257
> 
> Ο εχθρός κινείται προς αυτή την κατεύθυνση: 245.3982452992434
> 
> Ο εχθρός κινείται τόσο γρήγορα: 3.518060705182688 m/s
> 
> Ο εχθρός επιταχύνεται: 2.1682719913930013 m/s^2
> 
> Στέλνουμε
> 
> 22.345354010102106 58.44169510334397
> 

## Деплой

```sh
cd deploy
docker-compose up --build -d
```

## Выдать участинкам

Данные для подключения.

## Описание

Задача заключается в том, что участники управляют катапультой. Им нужно попасть в равноускоренного оппонента. Они задают угол к горизонту и угол поворота орудия. Сложность в том, что игрокам предстоит решить систему уравнений, где во главе угла становится время полета снаряда, так как оппонент не стоит на месте!

## Решение

Нужно понимать, что в зависимости от угла альфа (угла к горизонту, как высоко пошлем снаряд), зависит дистанция пролета и время полета. Так как мы работаем в трехмерных координатах, нужно найти такие углы, при которых совпадет точка прилёта с точкой где окажется оппонент (самбука).
Для этого нужно знать, что оппонент движется равноускоренно.
S = Vнач.самбуки * t полета + 0.5 * a самбуки * t полета^2
Высчитать точку где окажется оппонент просто - берем проекции
X самбуки = S * cos(beta) + Xнач.самбуки
Z самбуки = S * sin(beta) + Zнач.самбуки
Теперь давайте поймем сколько же у нас время полета на самом деле.
t полета = 2 * Vнач.снаряда * sin(alpha) / g , где Vнач.снаряда по условиям задачи = 60м/с, g = 9.81
Соответственно преодоленная дистанция снарядом это 
d = Vнач.снаряда * cos(alpha) * t полета
Теперь нам нужно понять где окажется снаряд. Для этого снова берем проекцию с помощью угла поворота орудия
X снаряда = d * cos(theta)
Z снаряда = d * sin(theta)

Таким образом, нам нужно чтобы решалась система уравнений
( X снаряда = X самбуки
( Z снаряда = Z самбуки

Можно решать и математически, это все, но меня ужаснуло появление там комплексных чисел, поэтому решаем проще - перебором.

Так как нам не обязательно попасть идеально в точку, можно попасть в приблизительное расстояние, то нам проще подбором взять задачу. Итерируемся по углам альфа и тета с нужным шагом и высчитываем, попали или нет. Если попали, высылаем ответ)

[Эксплоит](solve/solve.py)

## Флаг

`n0l1_7urb4r3_c1rcul05_m305`

